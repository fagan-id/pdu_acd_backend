generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model AnalysisResult {
  id              BigInt   @id @default(autoincrement())
  created_at      DateTime @default(now()) @db.Timestamptz(6)
  well_id         BigInt
  vertical_depth  Float?
  siltstone_prcnt Float?
  sandstone_prcnt  Float?
  image           String?  @db.VarChar
  Well           Well    @relation(fields: [well_id], references: [id], onDelete: Cascade)

  @@index([well_id])
  @@index([created_at])
  @@index([vertical_depth])
}

model User {
  id         BigInt   @id @default(autoincrement())
  created_at DateTime @default(now())
  username   String
  email      String   @unique
  password   String   
  updated_at DateTime @default(now()) @updatedAt

  @@index([email])
  @@index([username])
}

model Well {
  id             BigInt           @id @default(autoincrement())
  created_at     DateTime         @default(now()) @db.Timestamptz(6)
  name           String
  location       String
  total_depth    Float?
  elevation      Float?
  latitude       Float?
  longitude      Float?
  AnalysisResult AnalysisResult[]

  @@index([name])
  @@index([location])
  @@index([created_at]) 
}
